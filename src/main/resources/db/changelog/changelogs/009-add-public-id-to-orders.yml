databaseChangeLog:
  - changeSet:
      id: 009-01-add-public-id-to-orders
      author: minh-kop
      changes:
        - addColumn:
            tableName: orders
            columns:
              - column:
                  name: public_id
                  type: uuid
                  defaultValueComputed: gen_random_uuid()
                  constraints:
                    nullable: false
                    unique: true
      rollback:
        - dropColumn:
            tableName: orders
            columnName: public_id

  - changeSet:
      id: 009-02-add-order-reference-to-orders
      author: minh-kop
      changes:
        - addColumn:
            tableName: orders
            columns:
              - column:
                  name: order_reference
                  type: varchar(9)
                  constraints:
                    nullable: false
                    unique: true
      rollback:
        - dropColumn:
            tableName: orders
            columnName: order_reference

  - changeSet:
      id: 009-03-add-current-status-to-orders
      author: minh-kop
      changes:
        - addColumn:
            tableName: orders
            columns:
              - column:
                  name: current_status
                  type: order_status
                  defaultValue: pending
                  constraints:
                    nullable: false
      rollback:
        - dropColumn:
            tableName: orders
            columnName: current_status